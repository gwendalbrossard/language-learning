model StreakDay {
  id   String   @id @default(cuid())
  date DateTime @db.Timestamptz // Store date with timezone information. Beginning of the day.

  profileId String
  profile   Profile @relation(fields: [profileId], references: [id], onDelete: Cascade)

  organizationId String
  organization   Organization @relation(fields: [organizationId], references: [id], onDelete: Cascade)

  lastStreakDayForProfiles Profile[] @relation("LastStreakDay")

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@unique([profileId, date, organizationId]) // Ensure one entry per day per profile and organization
  @@index([profileId, date, organizationId])
  @@index([profileId])
  @@index([organizationId])
  @@index([date])
  @@map("streak_day")
}
